---
layout: post
title: Stack
---

### 栈

- 主要操作：push，pop
- 应用：
	- 表达式求值
	- 消除递归
	- 深度优先搜索

- 抽象数据类型：


```cpp

template<class T>
class Stack{
public:
	void clear();
	bool push(const T item);
	bool pop(T& item);
	bool top(T& item);
	bool isEmpty();
	bool isFull();
};

```

- 思考：
	- 若入栈顺序为1，2，3，4，出栈顺序有哪些？
	- 从初始输入序列1，2，...，n，希望找一个栈得到输入序列p1,p2,p3,...,pn(它们是1，2，...，n的一种序列)若存在下标i,j,k，满足i<j<k 同时pj<pk<pi，则输入是否合法？

- 栈的实现方式：
	- 顺序栈（Array-based Stack）
		- 使用向量实现，本质上是顺序表的简化版
		- 关键是确定哪一端作为栈顶
		- 上溢，下溢问题

	- 链式栈（Linked Stack）
		- 使用单链表方式存储，其中指针的方向是从栈顶向下链接  

### 顺序栈和链式栈的比较

- 时间效率
	- 所有操作都只需要常数时间
	- 顺序栈和链式栈在时间效率上难分伯仲

- 空间效率
	- 顺序栈需要说明一个固定长度
	- 链式栈长度可变，但增加结构开销  

- 实际应用中，顺序栈比链式栈用的更广泛
	- 顺序栈容易根据栈顶位置，进行相对位移，快速定位并读取栈内部的元素
	- 顺序栈读取内部元素时间为O(1),链式栈需要沿着栈顶指针游走，显然慢些，读取第k个元素需要的时间为O(k)。
	- 一般来说，栈不允许“读取内部元素”，只能在栈顶操作 

### 栈的应用

- 栈的特点：后进先出
- 常用来处理具有递归结构的数据结构
	- 深度优先搜索
	- 表达式求值
	- 子程序/函数调用的管理
	- 消除递归

	
#### 计算表达式的值

- 表达式的递归定义
	- 基本符号集合：{0，1，2，3，... ，9，+，-，*，/,(,)}
	- 语法成分集合:{<表达式>,<项>,<因子>,<常数>,<数字>}

- 中缀表达式 23+(34*45)/(5+6+7)

	- 中缀表达式与后缀表达式
		- 中缀表达符合人类对数学认知的习惯，后缀，前缀表达式由于没有括号和优先级，更符合计算机的处理方式
		- 中缀表达式可[转换为后缀表达式](http://btechsmartclass.com/DS/U2_T5.html) 
		- 中缀表达式语法公式

	```cpp

	<表达式> ::= <项> + <项>
		 	| <项> - <项>
			| <项>
			
	<项> ::= <因子> * <因子>
		 	| <因子> / <因子>
			| <因子>
	<因子> ::= <常数>
			| (<表达式>)
	<常数> ::= <常数>
			| <数字><常数>
	<数字> ::= 0|1|2|3|4|5|6|7|8|9

	```
- 后缀表达式 23 34 45 * 56 + 7 + / +，后缀表达式又称逆波兰表达式，它和中缀表达式的区别是，后缀表达式不需要使用括号




- 后缀表达式求值规则：每次从栈里取两个数字，然后应用运算符